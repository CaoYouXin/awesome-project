import{G as t,o as e,b as o,w as n,n as i,a,c as r,F as s,p as l,j as d,d as u,t as p,g,i as c,f as h,h as m,r as f,H as y}from"./index-DgupuRwW.js";import{d as b,a as S,_ as v,m as x,b as C,g as z,e as T,i as w,r as _,h as $}from"./u-icon.D9viAlsN.js";function B(t,e=!0){if((t=String(t).toLowerCase())&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(t)){if(4===t.length){let e="#";for(let o=1;o<4;o+=1)e+=t.slice(o,o+1).concat(t.slice(o,o+1));t=e}const o=[];for(let e=1;e<7;e+=2)o.push(parseInt(`0x${t.slice(e,e+2)}`));return e?`rgb(${o[0]},${o[1]},${o[2]})`:o}if(/^(rgb|RGB)/.test(t)){return t.replace(/(?:\(|\)|rgb|RGB)*/g,"").split(",").map((t=>Number(t)))}return t}function I(t){const e=t;if(/^(rgb|RGB)/.test(e)){const t=e.replace(/(?:\(|\)|rgb|RGB)*/g,"").split(",");let o="#";for(let e=0;e<t.length;e++){let n=Number(t[e]).toString(16);n=1==String(n).length?`0${n}`:n,"0"===n&&(n+=n),o+=n}return 7!==o.length&&(o=e),o}if(!/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(e))return e;{const t=e.replace(/#/,"").split("");if(6===t.length)return e;if(3===t.length){let e="#";for(let o=0;o<t.length;o+=1)e+=t[o]+t[o];return e}}}const M=v({name:"u-loading-icon",mixins:[x,C,b({props:{show:{type:Boolean,default:()=>S.loadingIcon.show},color:{type:String,default:()=>S.loadingIcon.color},textColor:{type:String,default:()=>S.loadingIcon.textColor},vertical:{type:Boolean,default:()=>S.loadingIcon.vertical},mode:{type:String,default:()=>S.loadingIcon.mode},size:{type:[String,Number],default:()=>S.loadingIcon.size},textSize:{type:[String,Number],default:()=>S.loadingIcon.textSize},text:{type:[String,Number],default:()=>S.loadingIcon.text},timingFunction:{type:String,default:()=>S.loadingIcon.timingFunction},duration:{type:[String,Number],default:()=>S.loadingIcon.duration},inactiveColor:{type:String,default:()=>S.loadingIcon.inactiveColor}}})],data:()=>({array12:Array.from({length:12}),aniAngel:360,webviewHide:!1,loading:!1}),computed:{otherBorderColor(){const t=function(t="rgb(0, 0, 0)",e="rgb(255, 255, 255)",o=10){const n=B(t,!1),i=n[0],a=n[1],r=n[2],s=B(e,!1),l=(s[0]-i)/o,d=(s[1]-a)/o,u=(s[2]-r)/o,p=[];for(let g=0;g<o;g++){let n=I(`rgb(${Math.round(l*g+i)},${Math.round(d*g+a)},${Math.round(u*g+r)})`);0===g&&(n=I(t)),g===o-1&&(n=I(e)),p.push(n)}return p}(this.color,"#ffffff",100)[80];return"circle"===this.mode?this.inactiveColor?this.inactiveColor:t:"transparent"}},watch:{show(t){}},mounted(){this.init()},methods:{addUnit:z,addStyle:T,init(){setTimeout((()=>{}),20)},addEventListenerToWebview(){const e=t(),o=e[e.length-1].$getAppWebview();o.addEventListener("hide",(()=>{this.webviewHide=!0})),o.addEventListener("show",(()=>{this.webviewHide=!1}))}}},[["render",function(t,h,m,f,y,b){const S=g,v=c;return t.show?(e(),o(S,{key:0,class:i(["u-loading-icon",[t.vertical&&"u-loading-icon--vertical"]]),style:a([b.addStyle(t.customStyle)])},{default:n((()=>[y.webviewHide?d("",!0):(e(),o(S,{key:0,class:i(["u-loading-icon__spinner",[`u-loading-icon__spinner--${t.mode}`]]),ref:"ani",style:a({color:t.color,width:b.addUnit(t.size),height:b.addUnit(t.size),borderTopColor:t.color,borderBottomColor:b.otherBorderColor,borderLeftColor:b.otherBorderColor,borderRightColor:b.otherBorderColor,"animation-duration":`${t.duration}ms`,"animation-timing-function":"semicircle"===t.mode||"circle"===t.mode?t.timingFunction:""})},{default:n((()=>["spinner"===t.mode?(e(!0),r(s,{key:0},l(y.array12,((t,n)=>(e(),o(S,{key:n,class:"u-loading-icon__dot"})))),128)):d("",!0)])),_:1},8,["class","style"])),t.text?(e(),o(v,{key:1,class:"u-loading-icon__text",style:a({fontSize:b.addUnit(t.textSize),color:t.textColor})},{default:n((()=>[u(p(t.text),1)])),_:1},8,["style"])):d("",!0)])),_:1},8,["style","class"])):d("",!0)}],["__scopeId","data-v-95ac3d70"]]);let N;const k=v({name:"u-button",mixins:[x,C,b({props:{hairline:{type:Boolean,default:()=>S.button.hairline},type:{type:String,default:()=>S.button.type},size:{type:String,default:()=>S.button.size},shape:{type:String,default:()=>S.button.shape},plain:{type:Boolean,default:()=>S.button.plain},disabled:{type:Boolean,default:()=>S.button.disabled},loading:{type:Boolean,default:()=>S.button.loading},loadingText:{type:[String,Number],default:()=>S.button.loadingText},loadingMode:{type:String,default:()=>S.button.loadingMode},loadingSize:{type:[String,Number],default:()=>S.button.loadingSize},openType:{type:String,default:()=>S.button.openType},formType:{type:String,default:()=>S.button.formType},appParameter:{type:String,default:()=>S.button.appParameter},hoverStopPropagation:{type:Boolean,default:()=>S.button.hoverStopPropagation},lang:{type:String,default:()=>S.button.lang},sessionFrom:{type:String,default:()=>S.button.sessionFrom},sendMessageTitle:{type:String,default:()=>S.button.sendMessageTitle},sendMessagePath:{type:String,default:()=>S.button.sendMessagePath},sendMessageImg:{type:String,default:()=>S.button.sendMessageImg},showMessageCard:{type:Boolean,default:()=>S.button.showMessageCard},dataName:{type:String,default:()=>S.button.dataName},throttleTime:{type:[String,Number],default:()=>S.button.throttleTime},hoverStartTime:{type:[String,Number],default:()=>S.button.hoverStartTime},hoverStayTime:{type:[String,Number],default:()=>S.button.hoverStayTime},text:{type:[String,Number],default:()=>S.button.text},icon:{type:String,default:()=>S.button.icon},iconColor:{type:String,default:()=>S.button.icon},color:{type:String,default:()=>S.button.color}}})],data:()=>({}),computed:{bemClass(){return this.color?this.bem("button",["shape","size"],["disabled","plain","hairline"]):this.bem("button",["type","shape","size"],["disabled","plain","hairline"])},loadingColor(){return this.plain?this.color?this.color:w[`u-${this.type}`]:"info"===this.type?"#c9c9c9":"rgb(200, 200, 200)"},iconColorCom(){return this.iconColor?this.iconColor:this.plain?this.color?this.color:this.type:"info"===this.type?"#000000":"#ffffff"},baseColor(){let t={};return this.color&&(t.color=this.plain?this.color:"white",this.plain||(t["background-color"]=this.color),-1!==this.color.indexOf("gradient")?(t.borderTopWidth=0,t.borderRightWidth=0,t.borderBottomWidth=0,t.borderLeftWidth=0,this.plain||(t.backgroundImage=this.color)):(t.borderColor=this.color,t.borderWidth="1px",t.borderStyle="solid")),t},nvueTextStyle(){let t={};return"info"===this.type&&(t.color="#323233"),this.color&&(t.color=this.plain?this.color:"white"),t.fontSize=this.textSize+"px",t},textSize(){let t=14,{size:e}=this;return"large"===e&&(t=16),"normal"===e&&(t=14),"small"===e&&(t=12),"mini"===e&&(t=10),t}},emits:["click","getphonenumber","getuserinfo","error","opensetting","launchapp","agreeprivacyauthorization"],methods:{addStyle:T,clickHandler(){this.disabled||this.loading||function(t,e=500,o=!0){o?N||(N=!0,"function"==typeof t&&t(),setTimeout((()=>{N=!1}),e)):N||(N=!0,setTimeout((()=>{N=!1,"function"==typeof t&&t()}),e))}((()=>{this.$emit("click")}),this.throttleTime)},getphonenumber(t){this.$emit("getphonenumber",t)},getuserinfo(t){this.$emit("getuserinfo",t)},error(t){this.$emit("error",t)},opensetting(t){this.$emit("opensetting",t)},launchapp(t){this.$emit("launchapp",t)},agreeprivacyauthorization(t){this.$emit("agreeprivacyauthorization",t)}}},[["render",function(t,l,g,b,S,v){const x=_(h("u-loading-icon"),M),C=c,z=_(h("u-icon"),$),T=y;return e(),o(T,{"hover-start-time":Number(t.hoverStartTime),"hover-stay-time":Number(t.hoverStayTime),"form-type":t.formType,"open-type":t.openType,"app-parameter":t.appParameter,"hover-stop-propagation":t.hoverStopPropagation,"send-message-title":t.sendMessageTitle,"send-message-path":t.sendMessagePath,lang:t.lang,"data-name":t.dataName,"session-from":t.sessionFrom,"send-message-img":t.sendMessageImg,"show-message-card":t.showMessageCard,onGetphonenumber:v.getphonenumber,onGetuserinfo:v.getuserinfo,onError:v.error,onOpensetting:v.opensetting,onLaunchapp:v.launchapp,onAgreeprivacyauthorization:v.agreeprivacyauthorization,"hover-class":t.disabled||t.loading?"":"u-button--active",class:i(["u-button u-reset-button",v.bemClass]),style:a([v.baseColor,v.addStyle(t.customStyle)]),onClick:v.clickHandler},{default:n((()=>[t.loading?(e(),r(s,{key:0},[m(x,{mode:t.loadingMode,size:1.15*t.loadingSize,color:v.loadingColor},null,8,["mode","size","color"]),m(C,{class:"u-button__loading-text",style:a([{fontSize:v.textSize+"px"}])},{default:n((()=>[u(p(t.loadingText||t.text),1)])),_:1},8,["style"])],64)):(e(),r(s,{key:1},[t.icon?(e(),o(z,{key:0,name:t.icon,color:v.iconColorCom,size:1.35*v.textSize,customStyle:{marginRight:"2px"}},null,8,["name","color","size"])):d("",!0),f(t.$slots,"default",{},(()=>[m(C,{class:"u-button__text",style:a([{fontSize:v.textSize+"px"}])},{default:n((()=>[u(p(t.text),1)])),_:1},8,["style"])]),!0)],64))])),_:3},8,["hover-start-time","hover-stay-time","form-type","open-type","app-parameter","hover-stop-propagation","send-message-title","send-message-path","lang","data-name","session-from","send-message-img","show-message-card","onGetphonenumber","onGetuserinfo","onError","onOpensetting","onLaunchapp","onAgreeprivacyauthorization","hover-class","style","onClick","class"])}],["__scopeId","data-v-2da28150"]]);export{k as _,M as a};
